---
import { getCollection } from 'astro:content';
import Card from '../components/Card.astro';
import Layout from '../layouts/Layout.astro';

const allBlogPosts = await getCollection('blog');
---

<Layout title="My Blog">
	<main>
		<h1>My Blog</h1>
		<h2>Posts</h2>
		{ allBlogPosts.map(post => (
			<Card
				title={post.data.title}
				description={post.data.description}
				image={post.data.image}
				url={`/${post.slug}`}
			/>
		))}
	</main>
</Layout>

<style>
	main {
		text-align: center;
		margin: auto;
		padding: 1.5rem;
		max-width: 60ch;
	}
	h1 {
		font-size: 3rem;
		font-weight: 800;
		margin-bottom: 3rem;
	}
	h2 {
		text-align: left;
	}
</style>
